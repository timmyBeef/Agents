{
  "name": "Jupyter AI Notebook",
  "image": "python:3.12-slim",
  "features": {},

  // Forward Jupyter port
  "forwardPorts": [8888, 11434],

  // Mount your local project into /workspace
  "mounts": [
    "source=${localWorkspaceFolder},target=/workspace,type=bind"
  ],

  // Commands run after container is created
  "postCreateCommand": "apt-get update && apt-get install -y build-essential python3-dev && python3 -m venv /workspace/.venv && . /workspace/.venv/bin/activate && pip install --upgrade pip && pip install notebook jupyterlab langchain openai smolagents llama-index langgraph pandas matplotlib tiktoken python-dotenv litellm ddgs",

  // Tell VS Code + Python extension to use the venv
  "settings": {
    "python.defaultInterpreterPath": "/workspace/.venv/bin/python",
    "python.terminal.activateEnvironment": true
  },

  "remoteUser": "root",
  "runArgs": [
    "--cpus=4",
    "--memory=8g"
  ]
}
